{"version":3,"file":"multi-timeline.min.js","sources":["../src/js/multi-timeline.js"],"names":["$","window","document","undefined","multiTimeline","element","options","this","$element","extend","defaults","_defaults","_name","pluginName","_zoom","_layerCount","_dragging","_highestLayer","_layerUsage","init","zoom","setZoom","start","moment","subtract","format","end","add","xAxisDateFormat","xAxisUnit","markerDateFormat","timelineSpacing","zoomStep","flatten","maxLabelCount","infinity","dawn","data","mousewheelPan","mousewheelZoom","allDraggable","allResizeable","gridPrecision","onTimelineClick","event","onZoomChange","newZoom","onDragEnd","timeline","onResizeEnd","onEdit","zoomInControl","zoomOutControl","goLeftControl","goRightControl","prototype","SECONDS_PER_DAY","DAYS_PER_WEEK","console","error","_startMoment","_endMoment","isAfter","_secondsCount","getDuration","_daysCount","_weeksCount","_percentagePerDay","_percentagePerWeek","_unitCount","_unitPercentage","_timelineCount","length","createStructure","addTimelines","addEventHandlers","setWrapperDimensions","setReady","addClass","addMarks","unit","current","$time","timeUnitCount","label","Math","round","isToday","isSame","Date","addTimeUnit","appendTo","position","isMoment","$unit","html","css","left","append","from","to","duration","diff","asSeconds","getDraggingStatus","that","currentLayer","each","key","addTimeline","dataEntry","toMouseOut","useLayer","classes","handleStartAndEndDates","isInfinite","layer","getNextFreeLayer","push","hasPhases","hasOwnProperty","phases","forEach","phase","durationIn","seconds","days","weeks","startOffsetIn","width","visibility","title","isArray","color","styles","bottom","z-index","zIndex","background-color","$timeline","getTimelineHtml","join","attr","data-tl-start-offset","data-tl-duration","data-tl-start","data-tl-end","data-tl-identifier","data-tl-layer","on","clearTimeout","$this","hasClass","setTimeout","removeClass","draggable","resizeable","prependTo","parseInt","outerWidth","find","remove","blockedLayers","usage","isBefore","freeLayer","inArray","getEarliestDate","getLatestDate","earliestDate","latestDate","timelineHeight","outerHeight","totalHeight","height","top","e","preventDefault","zoomIn","zoomOut","goRight","goLeft","delta","max","min","wheelDelta","detail","ctrlKey","x","y","drag","isDragging","mode","target","$drag","startDrag","pageX","pageY","totalDelta","$mouseMoveTargets","parents","abs","cursor","useForSpacing","currentOffset","offset","newLeft","dragWidth","parseFloat","pxLeft","percentLeft","innerWidth","updateDates","percentToDate","oldLeft","off","startDate","endDate","percent","secondsPer","unitPercent","date","minutes","get","set","removeEventHandlers","levels","redraw","newStart","newEnd","jump","ceil","reset","getData","setData","fn","jQuery"],"mappings":"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"}