!function(a){function b(b,e){this.element=b,this.$element=a(b),this.moment=moment||null,this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="multiTimeline",d={propertyName:"value",timelineTemplate:'<div class="tl-timeline">',timeTemplate:'<ul class="tl-time">',start:"2015-02-23",end:"2015-03-01"};b.prototype={init:function(){this.createStructure().addTimelines()},createStructure:function(){this.$element.addClass("tl-wrapper");var b=a(this.options.timeTemplate),c=this.moment(this.options.start),d=this.moment(this.options.end);for(this._days=this.getDuration(c,d),this._dayPercentage=100/this._days,d=d.add(1,"day");!c.isSame(d);)b.append('<li class="tl-time__unit">'+c.format("YYYY-MM-DD")+"</li> "),c=c.add(1,"day");return b.appendTo(this.$element),this},getDuration:function(a,b){var c=this.moment.duration(b.diff(a));return c.asDays()},addTimelines:function(){var b=this,c=0;return a(this.options.data).each(function(){var d=b.getDuration(moment(this.start),moment(this.end)),e=b.getDuration(moment(b.options.start),moment(this.start));a(b.options.timelineTemplate).html('<div class="tl-timeline__title">'+this.title+"</div>").css({width:d*b._dayPercentage+"%",left:e*b._dayPercentage+"%",bottom:30*c+20+"px"}).prependTo(b.$element),c++}),this}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);